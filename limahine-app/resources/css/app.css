@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Inter:wght@300;400;500;600;700&family=Dancing+Script:wght@400;500;600;700&display=swap');

/* Importer les utilitaires personnalisés */
@import './utilities.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Variables CSS personnalisées */
:root {
  --gradient-golden: linear-gradient(135deg, #f1d067 0%, #e8b73a 50%, #d49c2a 100%);
  --gradient-brown: linear-gradient(135deg, #9d7b6a 0%, #8a6555 50%, #6d5650 100%);
  --gradient-elegant: linear-gradient(135deg, #fefdf8 0%, #fdf9e8 50%, #fbf1c5 100%);
}

/* Support RTL pour l'arabe */
html[dir="rtl"] {
  direction: rtl;
}

html[dir="rtl"] .rtl\:text-right {
  text-align: right;
}

html[dir="rtl"] .rtl\:text-left {
  text-align: left;
}

html[dir="rtl"] .rtl\:ml-auto {
  margin-left: auto;
}

html[dir="rtl"] .rtl\:mr-auto {
  margin-right: auto;
}

/* Navigation RTL */
html[dir="rtl"] .nav-link::after {
  right: 0;
  left: auto;
}

/* Flexbox RTL */
html[dir="rtl"] .rtl\:flex-row-reverse {
  flex-direction: row-reverse;
}

html[dir="rtl"] .rtl\:space-x-reverse > :not([hidden]) ~ :not([hidden]) {
  --tw-space-x-reverse: 1;
}

/* Base Styles */
@layer base {
  * {
    @apply scroll-smooth;
  }

  body {
    @apply font-modern text-accent-800 bg-white leading-relaxed;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-elegant font-semibold text-accent-900;
  }

  h1 {
    @apply text-4xl md:text-5xl lg:text-6xl;
  }

  h2 {
    @apply text-3xl md:text-4xl lg:text-5xl;
  }

  h3 {
    @apply text-2xl md:text-3xl lg:text-4xl;
  }

  h4 {
    @apply text-xl md:text-2xl lg:text-3xl;
  }

  p {
    @apply text-base md:text-lg leading-7 md:leading-8;
  }
}

/* Components */
@layer components {
  /* Boutons */
  .btn-primary {
    @apply inline-flex items-center justify-center px-6 py-3 text-white font-medium rounded-lg
           bg-gradient-to-r from-primary-500 to-primary-600
           hover:from-primary-600 hover:to-primary-700
           transform hover:scale-105 transition-all duration-300
           shadow-golden hover:shadow-glow
           focus:ring-4 focus:ring-primary-200 focus:outline-none;
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center px-6 py-3 text-accent-800 font-medium rounded-lg
           bg-gradient-to-r from-secondary-100 to-secondary-200
           hover:from-secondary-200 hover:to-secondary-300
           transform hover:scale-105 transition-all duration-300
           shadow-brown border border-secondary-300
           focus:ring-4 focus:ring-secondary-200 focus:outline-none;
  }

  .btn-outline {
    @apply inline-flex items-center justify-center px-6 py-3 text-primary-600 font-medium rounded-lg
           border-2 border-primary-500 bg-transparent
           hover:bg-primary-500 hover:text-white
           transform hover:scale-105 transition-all duration-300
           focus:ring-4 focus:ring-primary-200 focus:outline-none;
  }

  .btn-ghost {
    @apply inline-flex items-center justify-center px-6 py-3 text-accent-700 font-medium rounded-lg
           bg-transparent hover:bg-secondary-100
           transform hover:scale-105 transition-all duration-300
           focus:ring-4 focus:ring-secondary-200 focus:outline-none;
  }

  /* Cartes */
  .card {
    @apply bg-white rounded-2xl shadow-elegant p-6 md:p-8
           border border-neutral-200 hover:border-primary-300
           transition-all duration-300 hover:shadow-golden;
  }

  .card-featured {
    @apply card bg-gradient-to-br from-primary-50 to-secondary-50
           border-primary-200 relative overflow-hidden;
  }

  .card-featured::before {
    content: '';
    @apply absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-primary-500 to-secondary-500;
  }

  /* Sections */
  .section {
    @apply py-16 md:py-24 lg:py-32;
  }

  .section-hero {
    @apply min-h-screen flex items-center justify-center
           bg-gradient-to-br from-primary-50 via-white to-secondary-50
           relative overflow-hidden;
  }

  /* Container personnalisé */
  .container-custom {
    @apply container mx-auto px-6 lg:px-8 xl:px-12;
  }

  /* Navigation */
  .nav-link {
    @apply flex items-center px-3 py-2 text-sm font-medium rounded-lg
           hover:text-primary-600 hover:bg-primary-50 transition-all duration-300
           relative text-accent-700;
  }

  .nav-link.active {
    @apply text-primary-600 bg-primary-50;
  }

  .mobile-nav-link {
    @apply block px-4 py-3 text-accent-700 font-medium rounded-lg
           hover:text-primary-600 hover:bg-primary-50 transition-all duration-300;
  }

  .mobile-nav-link.active {
    @apply text-primary-600 bg-primary-50;
  }

  /* Typographie spécialisée */
  .text-gradient-light {
    @apply bg-gradient-to-r from-yellow-400 to-amber-500 bg-clip-text text-transparent;
  }

  .text-gradient-gold {
    @apply bg-gradient-to-r from-amber-500 to-yellow-600 bg-clip-text text-transparent;
  }

  .text-gradient-brown {
    @apply bg-gradient-to-r from-amber-700 to-orange-800 bg-clip-text text-transparent;
  }

  /* Badges */
  .badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-medium;
  }

  .badge-verified {
    @apply badge bg-green-100 text-green-800;
  }

  .badge-pending {
    @apply badge bg-yellow-100 text-yellow-800;
  }

  .badge-featured {
    @apply badge bg-primary-100 text-primary-800;
  }

  .badge-new {
    @apply badge bg-blue-100 text-blue-800;
  }

  /* Formulaires */
  .form-input {
    @apply w-full px-4 py-3 rounded-lg border border-neutral-300
           focus:border-primary-500 focus:ring-4 focus:ring-primary-200
           transition-all duration-300 outline-none
           placeholder-neutral-500;
  }

  .form-select {
    @apply w-full px-4 py-3 rounded-lg border border-neutral-300
           focus:border-primary-500 focus:ring-4 focus:ring-primary-200
           transition-all duration-300 outline-none
           bg-white cursor-pointer;
  }

  .form-textarea {
    @apply w-full px-4 py-3 rounded-lg border border-neutral-300
           focus:border-primary-500 focus:ring-4 focus:ring-primary-200
           transition-all duration-300 outline-none resize-none
           placeholder-neutral-500;
  }

  /* Statistiques */
  .stat-card {
    @apply text-center p-6 bg-white rounded-xl shadow-elegant
           border border-neutral-200 hover:shadow-golden
           transition-all duration-300;
  }

  .stat-number {
    @apply text-3xl md:text-4xl font-bold text-primary-600 mb-2;
  }

  .stat-label {
    @apply text-sm font-medium text-accent-600 uppercase tracking-wide;
  }

  /* Hero patterns */
  .hero-pattern {
    background-image: radial-gradient(circle at 25% 25%, rgba(251, 191, 36, 0.1) 0%, transparent 50%),
                      radial-gradient(circle at 75% 75%, rgba(245, 158, 11, 0.1) 0%, transparent 50%);
  }

  /* Cards spécialisées */
  .publication-card {
    @apply card hover:transform hover:scale-105 transition-all duration-300
           cursor-pointer group;
  }

  .testimonial-card {
    @apply bg-white rounded-xl p-6 shadow-elegant
           border border-neutral-200 hover:shadow-golden
           transition-all duration-300 relative;
  }

  .testimonial-card::before {
    content: '"';
    @apply absolute top-2 left-4 text-6xl font-serif text-primary-200;
  }

  /* Filtres */
  .filter-tag {
    @apply inline-flex items-center px-4 py-2 rounded-lg text-sm font-medium
           bg-neutral-100 text-neutral-700 hover:bg-primary-100 hover:text-primary-700
           transition-all duration-300 cursor-pointer;
  }

  .filter-tag.active {
    @apply bg-primary-500 text-white hover:bg-primary-600;
  }

  /* Social links */
  .social-link {
    @apply w-10 h-10 flex items-center justify-center rounded-lg
           bg-white/10 text-white hover:bg-white/20
           transition-all duration-300 hover:transform hover:scale-110;
  }

  /* Footer */
  .footer-link {
    @apply text-white/80 hover:text-white transition-colors duration-300;
  }

  /* Animations personnalisées */
  .fade-in {
    @apply opacity-0 animate-pulse;
    animation: fadeIn 0.6s ease-in-out forwards;
  }

  .slide-up {
    @apply opacity-0 translate-y-8;
    animation: slideUp 0.6s ease-out forwards;
  }

  .scale-in {
    @apply opacity-0 scale-95;
    animation: scaleIn 0.5s ease-out forwards;
  }

  /* Search components */
  .search-container {
    @apply relative;
  }

  .search-input {
    @apply form-input pl-12 pr-4;
  }

  .search-icon {
    @apply absolute left-4 top-1/2 transform -translate-y-1/2 text-neutral-400;
  }

  /* Pagination */
  .pagination-link {
    @apply px-4 py-2 text-sm font-medium rounded-lg
           text-accent-700 hover:text-primary-600 hover:bg-primary-50
           transition-all duration-300;
  }

  .pagination-link.active {
    @apply bg-primary-500 text-white hover:bg-primary-600;
  }

  /* Quote styling */
  .quote-text {
    @apply text-lg italic text-accent-700 leading-relaxed;
  }

  .quote-author {
    @apply font-medium text-accent-900;
  }

  /* Language selector */
  .language-flag {
    @apply w-5 h-5 rounded-sm mr-3;
  }

  /* Responsive utilities */
  .container-section {
    @apply px-6 mx-auto max-w-7xl lg:px-8;
  }

  /* Academic specific styles */
  .academic-card {
    @apply card border-l-4 border-l-primary-500;
  }

  .methodology-step {
    @apply flex items-start space-x-4 p-6 bg-neutral-50 rounded-xl;
  }

  .methodology-number {
    @apply flex-shrink-0 w-8 h-8 bg-primary-500 text-white
           rounded-full flex items-center justify-center font-bold text-sm;
  }

  /* Mouridisme specific */
  .mouridisme-section {
    @apply py-12 border-b border-neutral-200 last:border-b-0;
  }

  .pillar-card {
    @apply text-center p-8 bg-gradient-to-br from-primary-50 to-secondary-50
           rounded-2xl shadow-elegant border border-primary-200
           hover:shadow-golden transition-all duration-300;
  }

  .pillar-icon {
    @apply w-16 h-16 mx-auto mb-6 bg-primary-500 text-white
           rounded-2xl flex items-center justify-center;
  }

  /* Loading states */
  .skeleton {
    @apply animate-pulse bg-neutral-200 rounded;
  }

  .spinner {
    @apply animate-spin rounded-full border-4 border-neutral-200 border-t-primary-500;
  }

  .section-dark {
    @apply bg-gradient-to-br from-accent-900 to-accent-800 text-white;
  }

  /* Navigation optimisée */
  .nav-link {
    @apply text-accent-700 hover:text-primary-600 font-medium text-sm
           transition-colors duration-300 relative px-3 py-2 rounded-lg
           hover:bg-primary-50;
  }

  .nav-link::after {
    content: '';
    @apply absolute bottom-0 left-0 w-0 h-0.5 bg-primary-500
           transition-all duration-300;
  }

  .nav-link:hover::after {
    @apply w-full;
  }

  .nav-link.active {
    @apply text-primary-600 bg-primary-50;
  }

  .nav-link.active::after {
    @apply w-full;
  }

  /* Formulaires */
  .form-input {
    @apply w-full px-4 py-3 rounded-lg border border-neutral-300
           focus:border-primary-500 focus:ring-4 focus:ring-primary-100
           transition-all duration-300 bg-white
           placeholder:text-neutral-400;
  }

  .form-textarea {
    @apply form-input resize-none min-h-[120px];
  }

  .form-label {
    @apply block text-sm font-medium text-accent-700 mb-2;
  }

  /* Conteneurs */
  .container-custom {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .glass-effect {
    @apply bg-white/80 backdrop-blur-sm border border-white/20;
  }

  /* Éléments décoratifs */
  .decoration-line {
    @apply relative;
  }

  .decoration-line::after {
    content: '';
    @apply absolute bottom-0 left-1/2 transform -translate-x-1/2
           w-24 h-1 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-full;
  }

  .text-gradient {
    @apply bg-gradient-to-r from-primary-600 to-secondary-600
           bg-clip-text text-transparent;
  }

  /* Animations personnalisées */
  .hover-lift {
    @apply transform transition-all duration-300 hover:-translate-y-2;
  }

  .hover-glow {
    @apply transition-all duration-300 hover:shadow-glow;
  }

  /* Layout responsive */
  .grid-auto-fit {
    @apply grid gap-6 grid-cols-1 md:grid-cols-2 lg:grid-cols-3;
  }

  .grid-auto-fit-wide {
    @apply grid gap-8 grid-cols-1 lg:grid-cols-2;
  }

  /* Dividers */
  .divider {
    @apply w-full h-px bg-gradient-to-r from-transparent via-neutral-300 to-transparent;
  }

  .divider-golden {
    @apply w-full h-px bg-gradient-to-r from-transparent via-primary-400 to-transparent;
  }
}

/* Navigation optimisée et responsive */
.nav-link {
    display: flex;
    align-items: center;
    padding: 0.5rem 0.75rem;
    font-size: 0.875rem;
    font-weight: 500;
    border-radius: 0.5rem;
    color: rgb(120 113 108);
    transition: all 0.2s ease;
    white-space: nowrap;
}

.nav-link:hover {
    color: rgb(217 119 6);
    background-color: rgb(254 243 199);
    transform: translateY(-1px);
}

.nav-link.active {
    color: rgb(217 119 6);
    background-color: rgb(254 243 199);
    box-shadow: 0 2px 4px rgba(217, 119, 6, 0.1);
}

/* Header optimisé */
header {
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
}

header.scrolled {
    background-color: rgba(255, 255, 255, 0.98);
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -1px rgb(0 0 0 / 0.06);
}

/* Responsive navigation adjustments */
@media (max-width: 1279px) {
    .nav-link {
        padding: 0.375rem 0.5rem;
        font-size: 0.8125rem;
    }

    .nav-link svg {
        width: 0.875rem;
        height: 0.875rem;
        margin-right: 0.375rem;
    }
}

@media (min-width: 1536px) {
    .nav-link {
        padding: 0.625rem 1rem;
        font-size: 0.9375rem;
    }

    .nav-link svg {
        width: 1.125rem;
        height: 1.125rem;
        margin-right: 0.625rem;
    }
}

/* Mobile menu styles améliorés */
.mobile-nav-link {
    display: flex;
    align-items: center;
    padding: 0.875rem 1rem;
    font-size: 0.9375rem;
    font-weight: 500;
    border-radius: 0.5rem;
    color: rgb(120 113 108);
    transition: all 0.2s ease;
    border-bottom: 1px solid rgb(254 243 199 / 0.3);
}

.mobile-nav-link:last-child {
    border-bottom: none;
}

.mobile-nav-link:hover,
.mobile-nav-link.active {
    color: rgb(217 119 6);
    background-color: rgb(254 243 199);
    transform: translateX(4px);
}

/* Optimisations pour éviter les débordements */
.container-fluid {
    width: 100%;
    padding-left: 1rem;
    padding-right: 1rem;
    margin-left: auto;
    margin-right: auto;
    max-width: 100%;
}

@media (min-width: 640px) {
    .container-fluid {
        padding-left: 1.5rem;
        padding-right: 1.5rem;
    }
}

@media (min-width: 1024px) {
    .container-fluid {
        padding-left: 2rem;
        padding-right: 2rem;
        max-width: 80rem;
    }
}

/* Grid responsive sans débordement */
.grid-responsive {
    display: grid;
    gap: 1rem;
    grid-template-columns: 1fr;
    width: 100%;
    max-width: 100%;
}

@media (min-width: 640px) {
    .grid-responsive {
        grid-template-columns: repeat(2, 1fr);
        gap: 1.5rem;
    }
}

@media (min-width: 768px) {
    .grid-responsive {
        grid-template-columns: repeat(3, 1fr);
        gap: 2rem;
    }
}

@media (min-width: 1024px) {
    .grid-responsive {
        grid-template-columns: repeat(4, 1fr);
    }
}

/* Textes responsifs */
.text-responsive-sm {
    font-size: 0.875rem;
    line-height: 1.25rem;
}

.text-responsive-base {
    font-size: 1rem;
    line-height: 1.5rem;
}

.text-responsive-lg {
    font-size: 1.125rem;
    line-height: 1.75rem;
}

.text-responsive-xl {
    font-size: 1.25rem;
    line-height: 1.75rem;
}

.text-responsive-2xl {
    font-size: 1.5rem;
    line-height: 2rem;
}

.text-responsive-3xl {
    font-size: 1.875rem;
    line-height: 2.25rem;
}

@media (min-width: 640px) {
    .text-responsive-sm { font-size: 1rem; line-height: 1.5rem; }
    .text-responsive-base { font-size: 1.125rem; line-height: 1.75rem; }
    .text-responsive-lg { font-size: 1.25rem; line-height: 1.75rem; }
    .text-responsive-xl { font-size: 1.5rem; line-height: 2rem; }
    .text-responsive-2xl { font-size: 2.25rem; line-height: 2.5rem; }
    .text-responsive-3xl { font-size: 3rem; line-height: 1; }
}

@media (min-width: 768px) {
    .text-responsive-2xl { font-size: 3rem; line-height: 1; }
    .text-responsive-3xl { font-size: 3.75rem; line-height: 1; }
}

/* Spacing responsive */
.spacing-y-responsive {
    padding-top: 2rem;
    padding-bottom: 2rem;
}

@media (min-width: 640px) {
    .spacing-y-responsive {
        padding-top: 3rem;
        padding-bottom: 3rem;
    }
}

@media (min-width: 768px) {
    .spacing-y-responsive {
        padding-top: 4rem;
        padding-bottom: 4rem;
    }
}

@media (min-width: 1024px) {
    .spacing-y-responsive {
        padding-top: 5rem;
        padding-bottom: 5rem;
    }
}

/* Hauteur de header responsive */
.header-height {
    height: 2.5rem; /* 40px sur mobile */
}

@media (min-width: 768px) {
    .header-height {
        height: 3rem; /* 48px sur tablet et plus */
    }
}

/* Marges de contenu pour compenser la header fixe */
.content-top-spacing {
    padding-top: 3rem; /* 48px */
}

@media (min-width: 768px) {
    .content-top-spacing {
        padding-top: 4rem; /* 64px */
    }
}
